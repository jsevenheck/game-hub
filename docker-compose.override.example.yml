# Example docker-compose.override.yml
# 
# This file demonstrates how to add Docker services for individual games
# without modifying the base docker-compose.yml file.
#
# Docker Compose automatically merges this with docker-compose.yml when
# you run `docker-compose up`.
#
# USAGE:
# 1. Copy this file: cp docker-compose.override.example.yml docker-compose.override.yml
# 2. Uncomment and configure the game services you need
# 3. Run: docker-compose up
#
# See DOCKER_GAMES.md for detailed documentation

version: '3.8'

services:
  # Example: Game with backend service
  # Uncomment and adapt for your game
  #
  # myGame-server:
  #   build:
  #     context: .
  #     dockerfile: games/myGame/server/Dockerfile
  #   container_name: mygame-server
  #   ports:
  #     - "3001:3000"  # Use 3001, 3002, etc. to avoid port conflicts
  #   environment:
  #     - NODE_ENV=development
  #     - PORT=3000
  #     - PLATFORM_URL=http://platform-server:3000
  #   volumes:
  #     # Mount source for hot reload
  #     - ./games/myGame/server/src:/app/games/myGame/server/src
  #     - ./packages:/app/packages
  #     # Exclude node_modules
  #     - /app/node_modules
  #     - /app/games/myGame/server/node_modules
  #   networks:
  #     - game-hub-network
  #   depends_on:
  #     - platform-server
  #   restart: unless-stopped

  # Example: Game with database
  # Uncomment and adapt for your game
  #
  # myGame-db:
  #   image: postgres:16-alpine
  #   container_name: mygame-db
  #   environment:
  #     - POSTGRES_DB=mygame
  #     - POSTGRES_USER=mygame
  #     - POSTGRES_PASSWORD=mygame_dev
  #   ports:
  #     - "5432:5432"  # Use 5433, 5434, etc. if you have multiple DBs
  #   volumes:
  #     - mygame-db-data:/var/lib/postgresql/data
  #     # Optional: Mount init scripts
  #     # - ./games/myGame/db/init.sql:/docker-entrypoint-initdb.d/init.sql
  #   networks:
  #     - game-hub-network
  #   restart: unless-stopped

  # Example: Game with Redis cache
  # Uncomment and adapt for your game
  #
  # myGame-redis:
  #   image: redis:7-alpine
  #   container_name: mygame-redis
  #   ports:
  #     - "6379:6379"  # Use 6380, 6381, etc. if you have multiple Redis instances
  #   volumes:
  #     - mygame-redis-data:/data
  #   networks:
  #     - game-hub-network
  #   restart: unless-stopped

# Volumes for game data persistence
# volumes:
#   mygame-db-data:
#   mygame-redis-data:

# Use the existing network from docker-compose.yml
networks:
  game-hub-network:
    external: true
